{"version":3,"file":"index.js","sources":["../src/js/gallery.js","../src/js/pixabay.js","../src/main.js"],"sourcesContent":["export const createGalleryCardTemplate = imgArr => {\n    return imgArr.reduce((acc, el) => {\n        return (\n            acc +\n            `\n            <li class=\"gallery-card\">\n              <a class=\"gallery-img-orig\" href=\"${el.largeImageURL}\">\n                <img class=\"gallery-img\" src=\"${el.webformatURL}\" alt=\"${el.tags}\" />\n                <div class=\"img-data\">\n                 <div class=\"img-data-column img-likes\">\n                  <p class=\"img-title\">Likes</p>\n                  <p class=\"img-value\">${el.likes}</p>\n                 </div>\n                 <div class=\"img-data-column img-views\">\n                  <p class=\"img-title\">Views</p>\n                  <p class=\"img-value\">${el.views}</p>\n                 </div>\n                 <div class=\"img-data-column img-comments\">\n                  <p class=\"img-title\">Comments</p>\n                  <p class=\"img-value\">${el.comments}</p>\n                 </div>\n                  <div class=\"img-data-column img-downloads\">\n                  <p class=\"img-title\">Downloads</p>\n                  <p class=\"img-value\">${el.downloads}</p>\n                 </div>\n                </div>\n              </a>\n            </li>\n           `\n        )\n    }, '');\n};\n","export const fetchPhotosByQuery = searchedQuery => {\n    return fetch(`https://pixabay.com/api/?${searchedQuery}`).then(response => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n\n        return response.json();\n    })\n}","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport { createGalleryCardTemplate } from './js/gallery';\nimport { fetchPhotosByQuery } from './js/pixabay';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.loader');\n\nlet simplelightbox = new SimpleLightbox('.gallery-card a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  const inputValue = event.currentTarget.elements.user_query.value.trim();\n\n  if (inputValue === '') {\n    iziToast.error({\n      message: 'Search value should not be empty!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  const searchParams = new URLSearchParams({\n    key: '47600623-616adcc60326fea30dcc03763',\n    q: inputValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  loaderEl.classList.remove('is-hidden');\n\n  fetchPhotosByQuery(searchParams)\n    .finally(() => {\n      loaderEl.classList.add('is-hidden');\n    })\n    .then(photos => {\n      if (photos.total === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        galleryEl.innerHTML = '';\n        return;\n      }\n      galleryEl.innerHTML = createGalleryCardTemplate(photos.hits);\n      simplelightbox.refresh();\n    })\n    .catch(err => console.log(err));\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGalleryCardTemplate","imgArr","acc","el","fetchPhotosByQuery","searchedQuery","response","searchFormEl","galleryEl","loaderEl","simplelightbox","SimpleLightbox","onSearchFormSubmit","event","inputValue","iziToast","searchParams","photos","err"],"mappings":"6vBAAO,MAAMA,EAA4BC,GAC9BA,EAAO,OAAO,CAACC,EAAKC,IAEnBD,EACA;AAAA;AAAA,kDAEsCC,EAAG,aAAa;AAAA,gDAClBA,EAAG,YAAY,UAAUA,EAAG,IAAI;AAAA;AAAA;AAAA;AAAA,yCAIvCA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,yCAIRA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,yCAIRA,EAAG,QAAQ;AAAA;AAAA;AAAA;AAAA,yCAIXA,EAAG,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,aAO9C,EAAE,EC9BIC,EAAqBC,GACvB,MAAM,4BAA4BA,CAAa,EAAE,EAAE,KAAKC,GAAY,CACvE,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MACxB,CAAK,ECFCC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,SAAS,EAEjD,IAAIC,EAAiB,IAAIC,EAAe,kBAAmB,CACzD,aAAc,MACd,aAAc,GAChB,CAAC,EAED,MAAMC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAEpB,MAAMC,EAAaD,EAAM,cAAc,SAAS,WAAW,MAAM,OAEjE,GAAIC,IAAe,GAAI,CACrBC,EAAS,MAAM,CACb,QAAS,oCACT,SAAU,UAChB,CAAK,EACD,MACD,CAED,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEDL,EAAS,UAAU,OAAO,WAAW,EAErCL,EAAmBY,CAAY,EAC5B,QAAQ,IAAM,CACbP,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,EACA,KAAKQ,GAAU,CACd,GAAIA,EAAO,QAAU,EAAG,CACtBF,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACDP,EAAU,UAAY,GACtB,MACD,CACDA,EAAU,UAAYR,EAA0BiB,EAAO,IAAI,EAC3DP,EAAe,QAAO,CAC5B,CAAK,EACA,MAAMQ,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAClC,EAEAX,EAAa,iBAAiB,SAAUK,CAAkB"}